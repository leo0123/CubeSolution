<%@ Page language="C#" MasterPageFile="~masterurl/default.master"    Inherits="Microsoft.SharePoint.WebPartPages.WebPartPage,Microsoft.SharePoint,Version=15.0.0.0,Culture=neutral,PublicKeyToken=71e9bce111e9429c" meta:progid="SharePoint.WebPartPage.Document" meta:webpartpageexpansion="full"  %>
<%@ Register Tagprefix="SharePoint" Namespace="Microsoft.SharePoint.WebControls" Assembly="Microsoft.SharePoint, Version=15.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c" %> <%@ Register Tagprefix="Utilities" Namespace="Microsoft.SharePoint.Utilities" Assembly="Microsoft.SharePoint, Version=15.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c" %> <%@ Import Namespace="Microsoft.SharePoint" %> <%@ Assembly Name="Microsoft.Web.CommandUI, Version=15.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c" %> <%@ Register Tagprefix="WebPartPages" Namespace="Microsoft.SharePoint.WebPartPages" Assembly="Microsoft.SharePoint, Version=15.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c" %>
<asp:content contentplaceholderid="PlaceHolderPageTitle" runat="server">
    <sharepoint:listformpagetitle runat="server" />
</asp:content>
<asp:content contentplaceholderid="PlaceHolderPageTitleInTitleArea" runat="server">
    <span class="die">
        <SharePoint:ListProperty Property="LinkTitle" runat="server" id="ID_LinkTitle" />
    </span>
</asp:content>
<asp:content contentplaceholderid="PlaceHolderPageImage" runat="server">
    <img src="/_layouts/15/images/blank.gif?rev=23" width='1' height='1' alt="" />
</asp:content>
<asp:content contentplaceholderid="PlaceHolderMain" runat="server">
    <sharepoint:uiversionedcontent uiversion="4" runat="server">
        <contenttemplate>
            <div style="padding-left:5px">
        </contenttemplate>
    </sharepoint:uiversionedcontent>
    <table class="ms-core-tableNoSpace" id="onetIDListForm">
        <tr>
            <td>
                <WebPartPages:WebPartZone runat="server" FrameType="None" ID="Main" Title="loc:Main">
                    <zonetemplate>
                        <WebPartPages:DataFormWebPart runat="server" EnableOriginalValue="False" DisplayName="Sales Person Profile" ViewFlag="1048584" ViewContentTypeId="" Default="FALSE" ListUrl="" ListDisplayName="" ListName="{D4374C4E-0308-4DDB-A134-F9F91F44BE54}" ListId="d4374c4e-0308-4ddb-a134-f9f91f44be54" PageType="PAGE_DISPLAYFORM" PageSize="-1" UseSQLDataSourcePaging="True" DataSourceID="" ShowWithSampleData="False" AsyncRefresh="False" ManualRefresh="False" AutoRefresh="False" AutoRefreshInterval="60" NoDefaultStyle="TRUE" InitialAsyncDataFetch="False" Title="Sales Person Profile" FrameType="None" SuppressWebPartChrome="False" Description="" IsIncluded="True" PartOrder="2" FrameState="Normal" AllowRemove="True" AllowZoneChange="True" AllowMinimize="True" AllowConnect="True" AllowEdit="True" AllowHide="True" IsVisible="True" DetailLink="" HelpLink="" HelpMode="Modeless" Dir="Default" PartImageSmall="" MissingAssembly="Cannot import this Web Part." PartImageLarge="" IsIncludedFilter="" ExportControlledProperties="True" ConnectionID="00000000-0000-0000-0000-000000000000" ID="g_264eda61_57d1_4591_8994_6bba532c98aa" ChromeType="None" ExportMode="All" __MarkupType="vsattributemarkup" __WebPartId="{264EDA61-57D1-4591-8994-6BBA532C98AA}" __AllowXSLTEditing="true" WebPart="true" Height="" Width="">
                            <datasources>
                                <sharepoint:spdatasource runat="server" datasourcemode="ListItem" selectcommand="&lt;View&gt;&lt;Query&gt;&lt;Where&gt;&lt;Eq&gt;&lt;FieldRef Name=&quot;ContentType&quot;/&gt;&lt;Value Type=&quot;Text&quot;&gt;Item&lt;/Value&gt;&lt;/Eq&gt;&lt;/Where&gt;&lt;/Query&gt;&lt;/View&gt;" useinternalname="True" useserverdataformat="True">
                                    <selectparameters>
                                        <webpartpages:dataformparameter parameterkey="ListItemId" propertyname="ParameterValues" defaultvalue="0" name="ListItemId"></webpartpages:dataformparameter><webpartpages:dataformparameter parameterkey="weburl" propertyname="ParameterValues" defaultvalue="http://amdpfwfedev01/sites/Test" name="weburl"></webpartpages:dataformparameter><webpartpages:dataformparameter parameterkey="ListID" propertyname="ParameterValues" defaultvalue="{D4374C4E-0308-4DDB-A134-F9F91F44BE54}" name="ListID"></webpartpages:dataformparameter>
                                    </selectparameters><updateparameters>
                                        <webpartpages:dataformparameter parameterkey="ListItemId" propertyname="ParameterValues" defaultvalue="0" name="ListItemId"></webpartpages:dataformparameter><webpartpages:dataformparameter parameterkey="weburl" propertyname="ParameterValues" defaultvalue="http://amdpfwfedev01/sites/Test" name="weburl"></webpartpages:dataformparameter><webpartpages:dataformparameter parameterkey="ListID" propertyname="ParameterValues" defaultvalue="{D4374C4E-0308-4DDB-A134-F9F91F44BE54}" name="ListID"></webpartpages:dataformparameter>
                                    </updateparameters><insertparameters>
                                        <webpartpages:dataformparameter parameterkey="ListItemId" propertyname="ParameterValues" defaultvalue="0" name="ListItemId"></webpartpages:dataformparameter><webpartpages:dataformparameter parameterkey="weburl" propertyname="ParameterValues" defaultvalue="http://amdpfwfedev01/sites/Test" name="weburl"></webpartpages:dataformparameter><webpartpages:dataformparameter parameterkey="ListID" propertyname="ParameterValues" defaultvalue="{D4374C4E-0308-4DDB-A134-F9F91F44BE54}" name="ListID"></webpartpages:dataformparameter>
                                    </insertparameters><deleteparameters>
                                        <webpartpages:dataformparameter parameterkey="ListItemId" propertyname="ParameterValues" defaultvalue="0" name="ListItemId"></webpartpages:dataformparameter><webpartpages:dataformparameter parameterkey="weburl" propertyname="ParameterValues" defaultvalue="http://amdpfwfedev01/sites/Test" name="weburl"></webpartpages:dataformparameter><webpartpages:dataformparameter parameterkey="ListID" propertyname="ParameterValues" defaultvalue="{D4374C4E-0308-4DDB-A134-F9F91F44BE54}" name="ListID"></webpartpages:dataformparameter>
                                    </deleteparameters>
                                </sharepoint:spdatasource>
                            </datasources>
                            <xsl>





                                <xsl:stylesheet xmlns:x="http://www.w3.org/2001/XMLSchema" xmlns:dsp="http://schemas.microsoft.com/sharepoint/dsp" version="1.0" exclude-result-prefixes="xsl msxsl ddwrt" xmlns:ddwrt="http://schemas.microsoft.com/WebParts/v2/DataView/runtime" xmlns:asp="http://schemas.microsoft.com/ASPNET/20" xmlns:__designer="http://schemas.microsoft.com/WebParts/v2/DataView/designer" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:sharepoint="Microsoft.SharePoint.WebControls" xmlns:ddwrt2="urn:frontpage:internal">
                                    <xsl:output method="html" indent="no" />
                                    <xsl:decimal-format nan="" />
                                    <xsl:param name="dvt_apos">&apos;</xsl:param>
                                    <xsl:param name="ManualRefresh"></xsl:param>
                                    <xsl:variable name="dvt_1_automode">0</xsl:variable>
                                    <xsl:template match="/" xmlns:x="http://www.w3.org/2001/XMLSchema" xmlns:dsp="http://schemas.microsoft.com/sharepoint/dsp" xmlns:asp="http://schemas.microsoft.com/ASPNET/20" xmlns:__designer="http://schemas.microsoft.com/WebParts/v2/DataView/designer" xmlns:sharepoint="Microsoft.SharePoint.WebControls">
                                        <xsl:choose>
                                            <xsl:when test="($ManualRefresh = 'True')">
                                                <table width="100%" border="0" cellpadding="0" cellspacing="0">
                                                    <tr>
                                                        <td valign="top">
                                                            <xsl:call-template name="dvt_1" />
                                                        </td>
                                                        <td width="1%" class="ms-vb" valign="top">
                                                            <img src="/_layouts/15/images/staticrefresh.gif" id="ManualRefresh" border="0" onclick="javascript: {ddwrt:GenFireServerEvent('__cancel')}" alt="Click here to refresh the dataview." />
                                                        </td>
                                                    </tr>
                                                </table>
                                            </xsl:when>
                                            <xsl:otherwise>
                                                <xsl:call-template name="dvt_1" />
                                            </xsl:otherwise>
                                        </xsl:choose>
                                    </xsl:template>

                                    <xsl:template name="dvt_1">
                                        <xsl:variable name="dvt_StyleName">ListForm</xsl:variable>
                                        <xsl:variable name="Rows" select="/dsQueryResponse/Rows/Row" />
                                        <xsl:variable name="dvt_RowCount" select="count($Rows)" />
                                        <xsl:variable name="dvt_IsEmpty" select="$dvt_RowCount = 0" />
                                        <xsl:choose>
                                            <xsl:when test="$dvt_IsEmpty">
                                                <xsl:call-template name="dvt_1.empty" />
                                            </xsl:when>
                                            <xsl:otherwise>
                                                <table border="0" width="100%">
                                                    <xsl:call-template name="dvt_1.body">
                                                        <xsl:with-param name="Rows" select="$Rows" />
                                                    </xsl:call-template>
                                                </table>
                                            </xsl:otherwise>
                                        </xsl:choose>
                                    </xsl:template>
                                    <xsl:template name="dvt_1.body">
                                        <xsl:param name="Rows" />
        <tr>
            <td class="ms-toolbar" nowrap="nowrap">
                <table>
                    <tr>
                        <td width="99%" class="ms-toolbar" nowrap="nowrap"><img src="/_layouts/15/images/blank.gif" width="1" height="18" /></td>
                        <td class="ms-toolbar" nowrap="nowrap" align="right">
                            <SharePoint:GoBackButton runat="server" ControlMode="Display" id="gobackbutton1" />
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td class="ms-toolbar" nowrap="nowrap">
                <sharepoint:formtoolbar runat="server" controlmode="Display" />
                <sharepoint:itemvalidationfailedmessage runat="server" controlmode="Display" />
            </td>
        </tr>
        <xsl:for-each select="$Rows">
            <xsl:call-template name="dvt_1.rowview" />
        </xsl:for-each>
        <tr>
            <td class="ms-toolbar" nowrap="nowrap">
                <table>
                    <tr>
                        <td class="ms-descriptiontext" nowrap="nowrap">
                            <sharepoint:createdmodifiedinfo controlmode="Display" runat="server" />
                        </td>
                        <td width="99%" class="ms-toolbar" nowrap="nowrap"><img src="/_layouts/15/images/blank.gif" width="1" height="18" /></td>
                        <td class="ms-toolbar" nowrap="nowrap" align="right">
                            <SharePoint:GoBackButton runat="server" ControlMode="Display" id="gobackbutton2" />
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
        </xsl:template>
        <xsl:template name="dvt_1.rowview">
            <tr>
                <td>
                    <table border="0" cellspacing="0" width="100%">
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Domain Account</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <div id="DomainAccount"><xsl:value-of select="@Title" /></div>
                                <input type="button" value="CustomerList" id="btCustomerList" class="ms-ButtonHeightWidth" target="_self" />
                                <div id="CustomerListDiv"></div>
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Name</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@Name" />
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Department</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <div id="Department"><xsl:value-of select="@Department" /></div>
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Company</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <div id="Company"><xsl:value-of select="@Company" /></div>
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Email</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@Email" />
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Employee ID</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@Employee_x0020_ID" />
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Employee Code</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@Employee_x0020_Code" />
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>SalesP</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@SalesP" />
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Old Email</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@Old_x0020_Email" />
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Old SAP ID</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@Old_x0020_SAP_x0020_ID" />
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Other Account</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@Other_x0020_Account" />
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Permission</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@Permission" />
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Effective Permission</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@Effective_x0020_Permission" />
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Status</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@Status" />
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Terminate Date</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@Terminate_x0020_Date" />
                            </td>
                        </tr>
                        <tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <h3 class="ms-standardheader">
                                    <nobr>Office</nobr>
                                </h3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@Office" />
                            </td>
                        </tr>

                        <!--<tr>
                            <td width="190px" valign="top" class="ms-formlabel">
                                <H3 class="ms-standardheader">
                                    <nobr>JSONStr</nobr>
                                </H3>
                            </td>
                            <td width="400px" valign="top" class="ms-formbody">
                                <xsl:value-of select="@JSONStr"/>
                            </td>
                        </tr>-->
                        <tr id="idAttachmentsRow">
                            <td nowrap="true" valign="top" class="ms-formlabel" width="20%">
                                <sharepoint:fieldlabel controlmode="Display" fieldname="Attachments" runat="server" />
                            </td>
                            <td valign="top" class="ms-formbody" width="80%">
                                <SharePoint:FormField runat="server" id="AttachmentsField" ControlMode="Display" FieldName="Attachments" __designer:bind="{ddwrt:DataBind('u','AttachmentsField','Value','ValueChanged','ID',ddwrt:EscapeDelims(string(@ID)),'@Attachments')}" />
                                <script>
          var elm = document.getElementById(&quot;idAttachmentsTable&quot;);
          if (elm == null || elm.rows.length == 0)
          document.getElementById(&quot;idAttachmentsRow&quot;).style.display=&apos;none&apos;;
                                </script>
                            </td>
                        </tr>
                        <xsl:if test="$dvt_1_automode = '1'" ddwrt:cf_ignore="1">
                            <tr>
                                <td colspan="99" class="ms-vb">
                                    <span ddwrt:amkeyfield="ID" ddwrt:amkeyvalue="ddwrt:EscapeDelims(string(@ID))" ddwrt:ammode="view"></span>
                                </td>
                            </tr>
                        </xsl:if>
                    </table>
                </td>
            </tr>
        </xsl:template>
        <xsl:template name="dvt_1.empty">
            <xsl:variable name="dvt_ViewEmptyText">There are no items to show in this view.</xsl:variable>
            <table border="0" width="100%">
                <tr>
                    <td class="ms-vb">
                        <xsl:value-of select="$dvt_ViewEmptyText" />
                    </td>
                </tr>
            </table>
        </xsl:template>
        </xsl:stylesheet>	</Xsl>
        <datafields>
        </datafields>
        <parameterbindings>
            <parameterbinding name="ListItemId" location="QueryString(ID)" defaultvalue="0" />
            <parameterbinding name="weburl" location="None" defaultvalue="http://amdpfwfedev01/sites/Test" />
            <parameterbinding name="ListID" location="None" defaultvalue="{D4374C4E-0308-4DDB-A134-F9F91F44BE54}" />
            <parameterbinding name="dvt_apos" location="Postback;Connection" />
            <parameterbinding name="ManualRefresh" location="WPProperty[ManualRefresh]" />
            <parameterbinding name="UserID" location="CAMLVariable" defaultvalue="CurrentUserName" />
            <parameterbinding name="Today" location="CAMLVariable" defaultvalue="CurrentDate" />
        </parameterbindings>
        </WebPartPages:DataFormWebPart>

        </ZoneTemplate></WebPartPages:WebPartZone>
        </td>
        </tr>
    </table>
    <sharepoint:uiversionedcontent uiversion="4" runat="server">
        <contenttemplate>
            </div>
        </contenttemplate>
    </sharepoint:uiversionedcontent>
</asp:content>
<asp:content contentplaceholderid="PlaceHolderAdditionalPageHead" runat="server">

    <script src="../../SitePages/scripts/jquery-3.1.0.min.js" type="text/javascript"></script>
    <script type="text/javascript">
//var NTAccount = null;
$(document).ready(function(){

		//$("#CustomerList").text("CustomerList");
		$("#btCustomerList").click(function(){
			if ($("#CustomerListDiv").text()==""){
				$("#CustomerListDiv").load('../../SitePages/CustomerList.html',function(){
					//$("#AngularDiv").css('zIndex',2);
					//$("#btAngularClose").click(function(){
					//	$("#AngularDiv").hide();
					//});
				});
			}
			else {
				$("#AngularDiv").show();
			}
			//alert(NTAccout);//$("#AngularDiv").css('zIndex',2);

	   });
});
    </script>

    <sharepoint:delegatecontrol runat="server" controlid="FormCustomRedirectControl" allowmultiplecontrols="true" />
    <sharepoint:uiversionedcontent uiversion="4" runat="server">
        <contenttemplate>
            <sharepoint:cssregistration name="forms.css" runat="server" />
        </contenttemplate>
    </sharepoint:uiversionedcontent>
</asp:content>
<asp:content contentplaceholderid="PlaceHolderTitleLeftBorder" runat="server">
    <table cellpadding="0" height="100%" width="100%" cellspacing="0">
        <tr><td class="ms-areaseparatorleft"><img src="/_layouts/15/images/blank.gif?rev=23" width='1' height='1' alt="" /></td></tr>
    </table>
</asp:content>
<asp:content contentplaceholderid="PlaceHolderTitleAreaClass" runat="server">
    <script type="text/javascript" id="onetidPageTitleAreaFrameScript">
	if (document.getElementById("onetidPageTitleAreaFrame") != null)
	{
		document.getElementById("onetidPageTitleAreaFrame").className="ms-areaseparator";
	}
    </script>
</asp:content>
<asp:content contentplaceholderid="PlaceHolderBodyAreaClass" runat="server">
    <sharepoint:styleblock runat="server">
        .ms-bodyareaframe {
        padding: 8px;
        border: none;
        }
    </sharepoint:styleblock>
</asp:content>
<asp:content contentplaceholderid="PlaceHolderBodyLeftBorder" runat="server">
    <div class='ms-areaseparatorleft'><img src="/_layouts/15/images/blank.gif?rev=23" width='8' height='100%' alt="" /></div>
</asp:content>
<asp:content contentplaceholderid="PlaceHolderTitleRightMargin" runat="server">
    <div class='ms-areaseparatorright'><img src="/_layouts/15/images/blank.gif?rev=23" width='8' height='100%' alt="" /></div>
</asp:content>
<asp:content contentplaceholderid="PlaceHolderBodyRightMargin" runat="server">
    <div class='ms-areaseparatorright'><img src="/_layouts/15/images/blank.gif?rev=23" width='8' height='100%' alt="" /></div>
</asp:content>
<asp:content contentplaceholderid="PlaceHolderTitleAreaSeparator" runat="server" />
